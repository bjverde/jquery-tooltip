/*
 * jQuery Tooltip plugin 1.4
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-tooltip/
 * http://docs.jquery.com/Plugins/Tooltip
 *
 * Copyright (c) 2006 - 2008 JÃ¶rn Zaefferer
 *
 * $Id: jquery.tooltip.js 5741 2008-06-21 15:22:16Z joern.zaefferer $
 * 
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */;(function(a){function i(c){if(b.parent)return;b.parent=a('<div id="'+c.id+'"><h3></h3><div class="body"></div><div class="url"></div></div>').appendTo(document.body).hide(),a.fn.bgiframe&&b.parent.bgiframe(),b.title=a("h3",b.parent),b.body=a("div.body",b.parent),b.url=a("div.url",b.parent),c.hideDelay&&b.parent.mouseenter(r).mouseleave(q)}function j(b){return a.data(b,"tooltip")}function k(b){if(j(this).delay){var c=this;e=setTimeout(function(){var a=c;return function(){m.apply(a,arguments)}}(),j(this).delay)}else m.apply(this,arguments);g=!!j(this).track,a(document.body).bind("mousemove",n),n(b)}function l(){h&&(r(),c=null);if(a.tooltip.blocked||this==c||!this.tooltipText&&!j(this).bodyHandler)return;c=this,d=this.tooltipText;if(j(this).bodyHandler){b.title.hide();var e=j(this).bodyHandler.call(this);e.nodeType||e.jquery?b.body.empty().append(e):b.body.html(e),b.body.show()}else if(j(this).showBody){var f=d.split(j(this).showBody);b.title.html(f.shift()).show(),b.body.empty();for(var g=0,i;i=f[g];g++)g>0&&b.body.append("<br/>"),b.body.append(i);b.body.hideWhenEmpty()}else b.title.html(d).show(),b.body.hide();j(this).showURL&&a(this).url()?b.url.html(a(this).url().replace("http://","")).show():b.url.hide(),b.parent.addClass(j(this).extraClass),j(this).fixPNG&&b.parent.fixPNG(),k.apply(this,arguments)}function m(){e=null;var d=j(this).fade;c=this,(!f||!a.fn.bgiframe)&&d?b.parent.is(":animated")?b.parent.stop().show().fadeTo(d,c.tOpacity):b.parent.is(":visible")?b.parent.fadeTo(d,c.tOpacity):b.parent.fadeIn(d):b.parent.show(),n()}function n(d){if(a.tooltip.blocked)return;if(d&&d.target.tagName=="OPTION")return;!g&&b.parent.is(":visible")&&a(document.body).unbind("mousemove",n);if(c==null){a(document.body).unbind("mousemove",n);return}b.parent.removeClass("viewport-right").removeClass("viewport-bottom");var e=b.parent[0].offsetLeft,f=b.parent[0].offsetTop;if(d){e=d.pageX+j(c).left,f=d.pageY+j(c).top;var h="auto";j(c).positionLeft&&(h=a(window).width()-e,e="auto"),b.parent.css({left:e,right:h,top:f})}var i=o(),k=b.parent[0];i.x+i.cx<k.offsetLeft+k.offsetWidth&&(e-=k.offsetWidth+20+j(c).left,b.parent.css({left:e+"px"}).addClass("viewport-right")),i.y+i.cy<k.offsetTop+k.offsetHeight&&(f-=k.offsetHeight+20+j(c).top,b.parent.css({top:f+"px"}).addClass("viewport-bottom"))}function o(){return{x:a(window).scrollLeft(),y:a(window).scrollTop(),cx:a(window).width(),cy:a(window).height()}}function p(d){function h(){b.parent.removeClass(g.extraClass).hide().css("opacity","")}if(a.tooltip.blocked)return;e&&clearTimeout(e),r();if(!c)return;var g=j(c);c=null,(!f||!a.fn.bgiframe)&&g.fade?b.parent.is(":animated")?b.parent.stop().fadeTo(g.fade,0,h):b.parent.stop().fadeOut(g.fade,h):h(),g.fixPNG&&b.parent.unfixPNG()}function q(a){if(!c)return;j(c).hideDelay?(r(),h=setTimeout(p,j(c).hideDelay),g=!1,n()):p(a)}function r(){h&&(clearTimeout(h),h=undefined)}var b={},c,d,e,f=a.browser.msie&&/MSIE\s(5\.5|6\.)/.test(navigator.userAgent),g=!1,h;a.tooltip={blocked:!1,defaults:{delay:200,fade:!1,showURL:!0,extraClass:"",top:15,left:15,id:"tooltip",hideDelay:30},block:function(){a.tooltip.blocked=!a.tooltip.blocked},restore:function(b){a(b).unbind("mouseover",l).unbind("mouseout",q).unbind("click",p)}},a.fn.extend({tooltip:function(c){return c=a.extend({},a.tooltip.defaults,c),i(c),this.each(function(){a.data(this,"tooltip",c),this.tOpacity=b.parent.css("opacity"),this.tooltipText=this.title,a(this).removeAttr("title"),this.alt=""}).mouseover(l).mouseout(q).click(p)},fixPNG:f?function(){return this.each(function(){var b=a(this).css("backgroundImage");b.match(/^url\(["']?(.*\.png)["']?\)$/i)&&(b=RegExp.$1,a(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+b+"')"}).each(function(){var b=a(this).css("position");b!="absolute"&&b!="relative"&&a(this).css("position","relative")}))})}:function(){return this},unfixPNG:f?function(){return this.each(function(){a(this).css({filter:"",backgroundImage:""})})}:function(){return this},hideWhenEmpty:function(){return this.each(function(){a(this)[a(this).html()?"show":"hide"]()})},url:function(){return this.attr("href")||this.attr("src")}})})(jQuery);